"use strict";(self["webpackChunkmidas_app"]=self["webpackChunkmidas_app"]||[]).push([[821],{821:function(s,t,e){e.r(t),e.d(t,{default:function(){return G}});var i=e(3396),a=e(7139);const c={class:"basket"},l={class:"container"},o={class:"basket-row"},n={class:"basket-c-cart"},r=(0,i._)("h2",{class:"basket-title _title"},"Корзина",-1),d={class:"basket-total-item"},v=(0,i._)("div",{class:"hot-menu-pages"},[(0,i._)("a",{href:"#",class:"hot-menu-page-prev"},"Главная"),(0,i._)("span",null,"/"),(0,i._)("div",{class:"hot-menu-page-this"},"Корзина")],-1),u={class:"basket-body"},m={class:"basket-img"},k=["src","alt"],p={class:"basket-content"},_={class:"basket-names basket-block"},b={class:"basket-name item-name"},h={class:"item-gram"},w={class:"basket-price item-price basket-block"},f={class:"basket-block"},g={class:"colvos"},L=["onClick"],y=(0,i._)("svg",{width:"12",height:"3",viewBox:"0 0 12 3",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M11.3839 2.53966L0 2.53966V0.844238H11.3839L11.3839 2.53966Z",fill:"white"})],-1),x=[y],C={class:"colvos-total"},I={class:"colvos-total-sum"},M=["onClick"],z=(0,i._)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M11.3839 6.53967L0 6.53967V4.84425H11.3839L11.3839 6.53967Z",fill:"white"}),(0,i._)("path",{d:"M6.54015 0L6.54015 11.3839L4.84473 11.3839V0H6.54015Z",fill:"white"})],-1),D=[z],B={class:"basket-right basket-block"},Z={class:"basket-total-price item-price"},P=["onClick"],$=(0,i._)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M14.8508 15.9764L0.437193 1.56281L1.63604 0.363965L16.0496 14.7776L14.8508 15.9764Z",fill:"#B70000"}),(0,i._)("path",{d:"M0.165475 14.9927L14.5791 0.579074L15.7779 1.77792L1.36432 16.1915L0.165475 14.9927Z",fill:"#B70000"})],-1),F=[$],H=(0,i.uE)('<div class="basket-types"><div class="basket-type">Блюдо:</div><div class="basket-type">Цена:</div><div class="basket-type">Кол-во:</div><div class="basket-type">Сумма:</div></div>',1),S={class:"basket-end"},V={class:"basket-form"},j=(0,i._)("div",{class:"basket-form-text"},"Применить промокод:",-1),O=(0,i._)("div",{class:"basket-form-inputs"},[(0,i._)("input",{type:"text",class:"basket-form-input"}),(0,i._)("div",{class:"basket-form-kod-active _btn"},"Применить")],-1),U={class:"basket-form-texts"},E=(0,i._)("div",{class:"basket-form-text"},"Итого к оплате:",-1),K={class:"basket-form-total-price item-price"};function W(s,t,e,y,z,$){const W=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",c,[(0,i._)("div",l,[(0,i._)("div",o,[(0,i._)("div",n,[r,(0,i._)("span",d,(0,a.zw)($.colvoItem($.FoodInfos))+" шт ",1)]),v,(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.FoodInfos,(s=>((0,i.wg)(),(0,i.iD)("div",{class:"basket-item",key:s.id},[(0,i._)("div",m,[(0,i._)("img",{src:s.imgSrc,alt:s.title},null,8,k)]),(0,i._)("div",p,[(0,i._)("div",_,[(0,i._)("div",b,(0,a.zw)(s.title),1),(0,i._)("div",h,(0,a.zw)(s.gram),1)]),(0,i._)("div",w,(0,a.zw)((1*s.price).toLocaleString())+" ₽",1),(0,i._)("div",f,[(0,i._)("div",g,[(0,i._)("div",{onClick:t=>$.sumMinus(s.id,s.sum),class:"colvos-p colvos-minus"},x,8,L),(0,i._)("div",C,[(0,i._)("span",I,(0,a.zw)(s.sum),1),(0,i.Uk)("шт")]),(0,i._)("div",{onClick:t=>$.sumPlus(s.id,s.sum),class:"colvos-plus colvos-p"},D,8,M)])]),(0,i._)("div",B,[(0,i._)("div",Z,(0,a.zw)((s.price*s.sum).toLocaleString())+" ₽",1),(0,i._)("button",{onClick:t=>$.itemDelete(s.id),class:"basket-del-item"},F,8,P)])])])))),128)),H]),(0,i._)("div",S,[(0,i._)("div",V,[j,O,(0,i._)("div",U,[E,(0,i._)("div",K,(0,a.zw)($.totalPrice($.FoodInfos).toLocaleString())+" ₽",1)]),(0,i.Wm)(W,{to:"/order",class:"basket-form-btn _btn-t"},{default:(0,i.w5)((()=>[(0,i.Uk)("Оформить заказ")])),_:1})])])])])])}var Y={computed:{FoodInfos(){return this.$store.getters.infoBasket}},methods:{async sumMinus(s,t){const e={id:s,sum:t};if(--t<1)try{await this.$store.dispatch("cartDeleteItem",s)}catch(i){}if(t>0)try{await this.$store.dispatch("sumMinus",e)}catch(i){}},async sumPlus(s,t){const e={id:s,sum:t};try{await this.$store.dispatch("sumPlus",e)}catch(i){}},async itemDelete(s){try{await this.$store.dispatch("cartDeleteItem",s)}catch(t){}},colvoItem(s){if(s){const t=[...Object.values(s)].reduce((function(s,t){return s+t.sum}),0);return t}if(!s)return 0},totalPrice(s){if(s){const t=[...Object.values(s)].reduce((function(s,t){return s+t.price*t.sum}),0);return t}if(!s)return 0}}},q=e(89);const A=(0,q.Z)(Y,[["render",W]]);var G=A}}]);
//# sourceMappingURL=821.ad9fe741.js.map